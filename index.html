<!DOCTYPE html>
<html>
  <head>
    <title>mBERT Huggingface Model</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
    <link rel="stylesheet" type="text/css" href="styles.css">
  </head>
  <body>
    <div id="app">
      <div>
        <input type="text" v-model="userInput" placeholder="Enter your input text with [MASK]" />
        <button class="button" @click="fetchData">Fetch Data</button>
      </div>
      <div>
        <p>Response: {{ responseData }}</p>
      </div>
    </div>

    <script>
  
      new Vue({
        el: '#app',
        data: {
          userInput: '',
          responseData: null,
        },
        methods: {
          async fetchData() {
            const data = { "inputs": this.userInput };

            try {
              const response = await fetch(
                "https://api-inference.huggingface.co/models/bert-base-multilingual-cased",
                {
                  headers: { Authorization: "Bearer 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" },
                  method: "POST",
                  body: JSON.stringify(data),
                }
              );

              const result = await response.json();
              //this.responseData = result;
              console.log("test")
              for(i = 0; i < result.length; i++) {
                console.log(result[i].token_str)
                this.responseData = result[i].token_str
              }
            } catch (error) {
              console.error("Error fetching data:", error);
            }
          },
        },
      });
    </script>
  </body>
</html>
