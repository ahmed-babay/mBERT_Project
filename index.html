<!DOCTYPE html>
<html>
  <head>
    <title>mBERT Huggingface Model</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
    <link rel="stylesheet" type="text/css" href="styles.css">
  </head>
  <body>
    <div id="app">
      <div>
        <input type="text" v-model="userInput" placeholder="Enter your sentence here" />
        <button class="button" @click="fetchData">Fetch Data</button>
      </div>
      <div>
        <p>Response: {{ responseData }}</p>
      </div>
    </div>

    <script>
  
      new Vue({
        el: '#app',
        data: {
          userInput: '',
          responseData: null,
        },
        methods: {
          async fetchData() {
            const data = { "inputs": this.userInput };

            try {
              const response = await fetch(
                "https://api-inference.huggingface.co/models/tomaarsen/span-marker-mbert-base-multinerd",
                {
                  headers: { Authorization: "Bearer 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" },
                  method: "POST",
                  body: JSON.stringify(data),
                }
              );

              const result = await response.json();
              const sequence_score=result.map(item => `${item.entity_group} (word: ${item.word})`);
              this.responseData=sequence_score.join();
              //test 123
            } catch (error) {
              console.error("Error fetching data:", error);
            }
          },
        },
      });
    </script>
  </body>
</html>
